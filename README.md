# vk-to-telegram

У ВК есть «callback API». Она доступна только для «Владельца» сообщества. С ее помощью есть возможность отслеживать новые сообщения сообществ, новые комментарии на странице группы и многое другое.

Что может данный скрипт? Оповещать о событиях в вк, а именно:
- входящих сообщениях;
- добавление комментария к фотографии;
- новый комментарий к видеозаписям;
- добавление новой записи на стене;
- добавление/редактирование/удаление комментария на стене;
- добавление/редактирование/удаление комментария в обсуждениях сообщества;
- добавление нового комментария к товарам.

В уведомлении предоставлена следующая информация:
- дата и время;
- событие, которое произошло(например «добавлен комментарий в группе ХХХ»);
- ссылка на то, где появился новый комментарий/сообщение;
- текст комментария/сообщения;
- ссылка на страницу того, кто оставил комментарий/сообщение.

### Install

run `composer install`

В файле, в переменной $answer необходимо заменить:
vkGroupID - это id вашей группы в вк
ServerAnswer - строка, которую должен вернуть Сервер.
Эту информацию можно посмотреть в настройках своего сообщества в вк, а именно:
Управление сообществом - Работа с API - Callback API - Настройки сервера
После подтверждения сервера необходимо проставить флаги во вкладке "Типы событий", чтобы вам приходили оповещения.

В моем варианте оповещения приходят в группу в телеграмме. Чтобы приходили сообщения, нужно знать id группы и токен вашего бота.
При выводе sendMessage подставить вместо telegramChatId - id вашей группы или id пользователя телеграмма, куда будут приходить сообщения из вк.
И вместо telegramToken - подставить токен вашего бота в телеграмме, который будет слать вам эти сообщения. 
